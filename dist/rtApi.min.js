/*! Rotten Tomatoes Rest Client - v0.1.0 - 2014-02-25
* https://github.com/arvindr21/rtRestClient
* Copyright (c) 2014 Arvind Ravulavaru; Licensed MIT */
!function(a){a.rtApi=function(b){return this.showError=function(a){console&&console.log?console.log(a):alert(a)},b=a.extend({},a.rtApi.options,b),void 0===b.apiKey?(this.showError(b.errorMessage),b.errorMessage):(this.getBoxOffice=function(c,d){c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsShort,c),b.url=b.baseUrl+"/movies/box_office.json?limit="+c.limit+"&country="+c.country+"&apikey="+b.apiKey,this.crossDomainAjaxer(b.url,d)},this.getInTheaters=function(c,d){c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsLong,c),b.url=b.baseUrl+"/movies/in_theaters.json?page_limit="+c.page_limit+"&page="+c.page+"&country="+c.country+"&apikey="+b.apiKey,this.crossDomainAjaxer(b.url,d)},this.getOpeningMovies=function(c,d){c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsShort,c),b.url=b.baseUrl+"/movies/opening.json?limit="+c.limit+"&country="+c.country+"&apikey="+b.apiKey,this.crossDomainAjaxer(b.url,d)},this.getUpcomingMovies=function(c,d){c instanceof Function&&(d=c,c=void 0),c=a.extend({},{page_limit:16,page:1,country:"us"},c),b.url=b.baseUrl+"/movies/upcoming.json?page_limit="+c.page_limit+"&page="+c.page+"&country="+c.country+"&apikey="+b.apiKey,this.crossDomainAjaxer(b.url,d)},this.getTopRentals=function(c,d){c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsShort,c),b.url=b.baseUrl+"/dvds/top_rentals.json?limit="+c.limit+"&country="+c.country+"&apikey="+b.apiKey,this.crossDomainAjaxer(b.url,d)},this.getCurrentDVDReleases=function(c,d){c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsLong,c),b.url=b.baseUrl+"/dvds/current_releases.json?page_limit="+c.page_limit+"&page="+c.page+"&country="+c.country+"&apikey="+b.apiKey,this.crossDomainAjaxer(b.url,d)},this.getNewDVDReleases=function(c,d){c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsLong,c),b.url=b.baseUrl+"/dvds/new_releases.json?page_limit="+c.page_limit+"&page="+c.page+"&country="+c.country+"&apikey="+b.apiKey,this.crossDomainAjaxer(b.url,d)},this.getUpcomingDVDs=function(c,d){c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsLong,c),b.url=b.baseUrl+"/dvds/upcoming.json?page_limit="+c.page_limit+"&page="+c.page+"&country="+c.country+"&apikey="+b.apiKey,this.crossDomainAjaxer(b.url,d)},this.getMovieInfoById=function(c,d){return c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsId,c),c.id?(b.url=b.base+"movies/"+c.id+".json?apikey="+b.apiKey,void this.crossDomainAjaxer(b.url,d)):(this.showError(b.optsIDErrorMessage),!1)},this.getCastInfoByMovieId=function(c,d){return c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsId,c),c.id?(b.url=b.base+"movies/"+c.id+"/cast.json?apikey="+b.apiKey,void this.crossDomainAjaxer(b.url,d)):(this.showError(b.optsIDErrorMessage),!1)},this.getClipsByMovieId=function(c,d){return c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsId,c),c.id?(b.url=b.base+"movies/"+c.id+"/clips.json?apikey="+b.apiKey,void this.crossDomainAjaxer(b.url,d)):(this.showError(b.optsIDErrorMessage),!1)},this.getReviewsByMovieId=function(c,d){return c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.optsMega,c),c.id?(b.url=b.base+"movies/"+c.id+"/reviews.json?review_type="+c.review_type+"&page_limit="+c.page_limit+"&page="+c.page+"&country="+c.country+"&apikey="+b.apiKey,void this.crossDomainAjaxer(b.url,d)):(this.showError(b.optsIDErrorMessage),!1)},this.getSimilarMoviesByMovieId=function(c,d){return c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.limit,c),c.id?(b.url=b.base+"movies/"+c.id+"/similar.json?limit="+c.limit+"&apikey="+b.apiKey,void this.crossDomainAjaxer(b.url,d)):(this.showError(b.optsIDErrorMessage),!1)},this.getMovieAliasByMovieId=function(c,d){return c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.lookType,c),c.id?(b.url=b.base+"movie_alias.json?id="+c.id+"&type="+c.type+"&apikey="+b.apiKey,void this.crossDomainAjaxer(b.url,d)):(this.showError(b.optsIDErrorMessage),!1)},this.searchMovies=function(c,d){return c instanceof Function&&(d=c,c=void 0),c=a.extend({},b.search,c),c.q?(b.url=b.base+"movies.json?q="+c.q+"&page_limit="+c.page_limit+"&page="+c.page+"&apikey="+b.apiKey,void this.crossDomainAjaxer(b.url,d)):(this.showError(b.optsSearchErrorMessage),!1)},this.crossDomainAjaxer=function(b,c){var d,e;if("XDomainRequest"in window&&null!==window.XDomainRequest){var f=new XDomainRequest;f.open("get",b),f.onload=function(){var b=new ActiveXObject("Microsoft.XMLDOM"),e=a.parseJSON(f.responseText);b.async=!1,(null==e||void 0===typeof e)&&(e=a.parseJSON(d.firstChild.textContent)),c(e)},f.onerror=function(){e=!1},f.send()}else a.ajax({url:b,cache:!1,dataType:"jsonp",type:"GET",async:!1,success:function(a){c(a)}})},this)},a.rtApi.options={base:"http://api.rottentomatoes.com/api/public/v1.0/",baseUrl:this.base+"lists",apiKey:void 0,errorMessage:"Need API Key to continue. Visit http://developer.rottentomatoes.com/page",optsSearchErrorMessage:"Search text is required",optsLong:{page_limit:16,page:1,country:"us"},optsShort:{limit:16,country:"us"},limit:{limit:5},lookType:{type:"imdb"},search:{page_limit:10,page:1},optsMega:{review_type:"top_critic",page_limit:16,page:1,country:"us"},optsIDErrorMessage:"Invalid Movie ID -  expected Format : { id : xxxxxxxxx }"}}(jQuery);